# =============================================================================
# SPhoto Environment - sphoto.arturf.ch
# =============================================================================

# Domain
DOMAIN=sphoto.arturf.ch

# Immich Version
IMMICH_VERSION=release

# Let's Encrypt E-Mail
ACME_EMAIL=admin@arturf.ch

# =============================================================================
# üöÄ DEPLOYMENT MODE
# =============================================================================
# 
# 'siloed' = One Immich instance per customer (original behavior)
#            - More isolated, higher resource usage
#            - Each customer gets their own subdomain
#
# 'shared' = Two shared Immich instances (recommended)
#            - free.sphoto.arturf.ch (no ML, 5GB quota)
#            - photos.sphoto.arturf.ch (with ML, paid plans)
#            - Much lower resource usage
#            - Easier to manage
#
DEPLOYMENT_MODE=shared

# =============================================================================
# üîó SHARED INSTANCE CONFIGURATION (only for DEPLOYMENT_MODE=shared)
# =============================================================================
#
# Internal URLs for the automation server to communicate with shared instances
# These should be the Docker container names/networks
SHARED_FREE_INTERNAL_URL=http://sphoto-free-server:2283
SHARED_PAID_INTERNAL_URL=http://sphoto-paid-server:2283

# API keys for admin access to shared instances
# Generate these after first startup via Immich admin panel
# 1. Start instances, create admin user
# 2. Go to Account Settings -> API Keys -> Create
# 3. Paste the keys here
SHARED_FREE_API_KEY=
SHARED_PAID_API_KEY=

# =============================================================================
# üíæ STORAGE CONFIGURATION
# =============================================================================
# 
# Global external storage path for all instances (optional)
# If not set, media is stored locally in each instance's uploads folder
# Examples: /mnt/nas/sphoto, /mnt/hdd/sphoto, /data/external
#
# EXTERNAL_STORAGE_PATH=/mnt/nas/sphoto
#
# Per-instance storage can be configured via the Admin API:
# POST /api/instances/{id}/storage/migrate
# { "newStoragePath": "/mnt/fast-ssd/premium" }
#
# This allows placing different customers on different drives:
# - Basic plan: HDD storage (/mnt/hdd/sphoto)
# - Pro plan: SSD storage (/mnt/ssd/sphoto)

# =============================================================================
# üîê ADMIN AUTHENTICATION
# =============================================================================
# 
# Diese Credentials sch√ºtzen:
# - admin.sphoto.arturf.ch (Traefik Dashboard)
# - stats.sphoto.arturf.ch (Stats Dashboard)
# - api.sphoto.arturf.ch/api/* (Admin API Endpoints)
#
# Username und Passwort f√ºr Browser-Login (Basic Auth):
ADMIN_USER=admin
ADMIN_PASS=CHANGE_ME_TO_SECURE_PASSWORD

# Traefik Auth Hash - GENERIERE SO:
# docker run --rm httpd:alpine htpasswd -nb admin DEIN_PASSWORT
# Beispiel Output: admin:$apr1$xyz...
# Kopiere die ganze Zeile hier:
TRAEFIK_AUTH=admin:$apr1$REPLACE_WITH_GENERATED_HASH

# API Key f√ºr programmatischen Zugang (curl, Scripts)
# Generiere mit: openssl rand -hex 32
ADMIN_API_KEY=REPLACE_WITH_GENERATED_KEY

# Admin email for alerts
ADMIN_EMAIL=admin@arturf.ch

# =============================================================================
# üí≥ Stripe
# =============================================================================
STRIPE_SECRET_KEY=sk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_PRICE_BASIC=price_xxx
STRIPE_PRICE_PRO=price_xxx

# =============================================================================
# üìß Resend (E-Mail)
# =============================================================================
RESEND_API_KEY=re_xxx
EMAIL_FROM=SPhoto <noreply@arturf.ch>
