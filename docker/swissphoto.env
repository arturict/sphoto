# =============================================================================
# SwissPhoto Environment Configuration
# =============================================================================
# Basierend auf Immich - Angepasst für Schweizer Homelab Hosting
# =============================================================================

# -----------------------------------------------------------------------------
# Allgemeine Einstellungen
# -----------------------------------------------------------------------------

# Version von Immich (base image)
IMMICH_VERSION=release

# Deine Domain (für Traefik)
SWISSPHOTO_DOMAIN=photos.swissphoto.ch

# E-Mail für Let's Encrypt Zertifikate
ACME_EMAIL=admin@swissphoto.ch

# -----------------------------------------------------------------------------
# Speicher-Pfade
# -----------------------------------------------------------------------------

# Pfad wo alle Fotos/Videos gespeichert werden
# Empfohlen: NAS-Mount oder grosse HDD
UPLOAD_LOCATION=/mnt/nas/swissphoto/uploads

# Pfad für PostgreSQL Datenbank
# WICHTIG: SSD empfohlen für Performance!
DB_DATA_LOCATION=/mnt/ssd/swissphoto/postgres

# -----------------------------------------------------------------------------
# Datenbank Einstellungen
# -----------------------------------------------------------------------------

DB_PASSWORD=swissphoto_secure_password_change_me
DB_USERNAME=swissphoto
DB_DATABASE_NAME=swissphoto

# PostgreSQL Connection URL (wird automatisch generiert)
DB_URL=postgresql://${DB_USERNAME}:${DB_PASSWORD}@database:5432/${DB_DATABASE_NAME}

# -----------------------------------------------------------------------------
# Machine Learning Einstellungen
# -----------------------------------------------------------------------------

# ML Server URL (internal Docker network)
MACHINE_LEARNING_URL=http://swissphoto-machine-learning:3003

# Workers für ML (CPU-basiert, da Quadro P600 nur 2GB VRAM hat)
MACHINE_LEARNING_WORKERS=2

# Cache-Grösse für ML Modelle (in GB)
# Bei 128GB RAM kannst du grosszügig sein
MACHINE_LEARNING_CACHE_FOLDER=/cache

# -----------------------------------------------------------------------------
# Server Einstellungen
# -----------------------------------------------------------------------------

# Redis für Caching und Job-Queue
REDIS_HOSTNAME=redis

# Log Level
LOG_LEVEL=log

# Telemetrie (für Privacy: false)
IMMICH_TELEMETRY_INCLUDE=false

# -----------------------------------------------------------------------------
# SwissPhoto Spezifisch
# -----------------------------------------------------------------------------

# Backup Warnung anzeigen
SWISSPHOTO_SHOW_BACKUP_WARNING=true

# Maximale Upload-Grösse (in MB)
# Bei 130 Mbit/s Upload: ~16 MB/s
UPLOAD_MAX_SIZE_MB=10240

# -----------------------------------------------------------------------------
# Optionale Einstellungen
# -----------------------------------------------------------------------------

# Timezone
TZ=Europe/Zurich

# Node.js Memory Limit (bei 128GB RAM)
NODE_OPTIONS=--max-old-space-size=8192
